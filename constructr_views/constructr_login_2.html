<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Login | ConstructrCMS</title>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    </head>
    <body>

      <div class="container" style="margin-top:150px;">

        {% if MESSAGE %}
          <div class="card-panel green darken-3 white-text">{{ MESSAGE|raw }}</div>
          <br><br>
        {% endif %}

    		<p class="flow-text center-align">Login as {{ USERNAME }}</p>
    		<div class="row form-row">
    			<form name="login" id="login" action="{{ CONSTRUCTR_BASE_URL}}/login-step-2" method="post" enctype="application/x-www-form-urlencoded" class="col s12" autocomplete="off">
    				<input type="hidden" name="{{ NAME_KEY }}" value="{{ NAME }}">
    				<input type="hidden" name="{{ VALUE_KEY }}" value="{{ VALUE }}">
            <div class="input-field col s12">
    					<input type="password" id="password" name="password" value="" placeholder="Password" required="required">
    					<label>Password:</label>
    				</div>
    				<div class="input-field col s6">
    					<button class="btn waves-effect waves-light" type="submit" name="action">Proceed with Login &gt;</button>
    				</div>
    			</form>
    		</div>
    	</div>

      <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
      <script>

        $(function()
          {
            $("#password").focus();

            function autoBlinder(){
                $('.card-panel').fadeOut();
            }

            setInterval(autoBlinder,4500);

            $('#login').bind('submit', () =>
              {
                let P = $('#password').val();

                if('undefined' === typeof P ||  '' == P)
                {
                  return false;
                }
              }
            );

          }
        );

      </script>
    </body>
</html>
